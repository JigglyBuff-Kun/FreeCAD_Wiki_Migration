---
title: Draft Éditer le style des annotations
---
|  |
| --- |
| Draft Éditer le style des annotations |
| Emplacement du menu |
| Draft : Annotation → Éditer le style des annotations...  BIM : Gestion → Éditer le style des annotations... |
| Ateliers |
| [Draft](/Draft_Workbench/fr "Draft Workbench/fr"), [BIM](/BIM_Workbench/fr "BIM Workbench/fr") |
| Raccourci par défaut |
| *Aucun* |
| Introduit dans la version |
| 0.19 |
| Voir aussi |
| [Draft Texte](/Draft_Text/fr "Draft Text/fr"), [Draft Étiquette](/Draft_Label/fr "Draft Label/fr"), [Draft Dimension](/Draft_Dimension/fr "Draft Dimension/fr") |
|  |

## Description

La commande ![](/images/Draft_AnnotationStyleEditor.svg) **Draft Éditer le style des annotations** vous permet de définir les styles qui affectent les propriétés visuelles des objets annotation, comme ceux créés par les commandes [Draft Texte](/Draft_Text/fr "Draft Text/fr"), [Draft Dimension](/Draft_Dimension/fr "Draft Dimension/fr") et [Draft Étiquette](/Draft_Label/fr "Draft Label/fr").

![](/images/Draft_AnnotationStyleEditor_Dialog.png)

La fenêtre de dialogue de l'Éditeur du style des annotations

## Utilisation

1. Il existe plusieurs façons de lancer la commande :
   * [Draft](/Draft_Workbench/fr "Draft Workbench/fr"): appuyez sur le bouton ![](/images/Draft_AnnotationStyleEditor.svg) Éditer le style des annotations....
   * Draft : sélectionnez l'option **Annotation → ![](/images/Draft_AnnotationStyleEditor.svg) Éditer le style des annotations...** du menu.
   * [BIM](/BIM_Workbench/fr "BIM Workbench/fr") : sélectionnez l'option **Gestion → ![](/images/Draft_AnnotationStyleEditor.svg) Éditer le style des annotations...** du menu.
2. La boîte de dialogue **Éditeur du style des annotations** s'ouvre.
3. Sélectionnez un style dans la liste déroulante **Nom du style** ou choisissez `Ajouter nouveau...` pour définir un nouveau style.
4. Vous pouvez également ajuster les propriétés du style.
5. Vous pouvez également appuyer sur le bouton ![](/images/Accessories-text-editor.svg) Renommer pour renommer le style.
6. Vous pouvez également appuyer sur le bouton ![](/images/Edit_Cancel.svg) Supprimer pour supprimer le style.
7. Vous pouvez également appuyer sur le bouton ![](/images/Std_Import.svg) pour importer tous les styles d'un fichier .json. Cela écrasera les styles existants portant le même nom.
8. Vous pouvez également appuyer sur le bouton ![](/images/Std_Export.svg) pour exporter tous les styles vers un fichier .json.
9. Appuyez sur le bouton OK pour fermer la boîte de dialogue et terminer la commande.

## Application

Pour appliquer un style d'annotation, modifiez la propriété Vue**Annotation Style** des objets d'annotation. Cette propriété se trouve dans l'onglet **Vue** de l'[éditeur de propriétés](/Property_editor/fr "Property editor/fr").

![](/images/Draft_AnnotationStyleEditor_Apply.png)

Sélection d'un style d'annotation

## Script

Voir aussi : [Autogenerated API documentation](https://freecad.github.io/SourceDoc/) et [FreeCAD Débuter avec les scripts](/FreeCAD_Scripting_Basics/fr "FreeCAD Scripting Basics/fr").

Les styles d'annotation sont enregistrés en tant que dictionnaires sérialisés dans l'attribut `Meta` du document. Cet attribut est inspecté par l'éditeur de style d'annotation lorsqu'il est ouvert.

```
>>> print(App.ActiveDocument.Meta["Draft_Style_Text red"])
{"ArrowSize": 2.0, "ArrowType": 0, "Decimals": 2, "DimOvershoot": 4.0, "ExtLines": 0.0, "ExtOvershoot": 4.0, "FontName": "DejaVu Sans", "FontSize": 10.0, "LineColor": 255, "LineSpacing": 1.0, "LineWidth": 2, "ScaleMultiplier": 1.0, "ShowLine": true, "ShowUnit": false, "TextColor": 4278190335, "TextSpacing": 3.0, "UnitOverride": ""}

```

Chaque style qui apparaît dans l'éditeur est enregistré en interne avec le nom de style préfixé par `Draft_Style_`. Cela empêchera des conflits de noms avec d'autres clés qui peuvent être enregistrées dans `Meta` et qui peuvent contenir des informations arbitraires.

Vous pouvez définir tout nouveau style en ajoutant les informations nécessaires à une clé commençant par `Draft_Style_`. La valeur correspondante de cette clé doit être un dictionnaire sérialisé à l'aide de `json`.

```
import json

meta = App.ActiveDocument.Meta
props = {"ArrowSize": 7.0, "LineWidth": 6}
meta["Draft_Style_Thick_lines"] = json.dumps(props)
App.ActiveDocument.Meta = meta

```

Les propriétés non saisies seront remplies automatiquement lorsque ce style sera sélectionné dans l'éditeur de style et que le bouton OK sera activé.

De la même manière, tout dictionnaire sérialisé peut être décompressé pour l'édition.

```
import json

meta = App.ActiveDocument.Meta
new_dict = json.loads(meta["Draft_Style_Thick_lines"])

```

Les propriétés doivent avoir les types suivants :

Les chaînes de caractères :

```
props = {
    "FontName": "DejaVu Sans",
    "UnitOverride": ""
}

```

Les valeurs flottantes (doivent être fournies avec un point décimal) :

```
props = {
    "ArrowSize": 2.0,
    "DimOvershoot": 4.0,
    "ExtLines": 0.0,
    "ExtOvershoot": 4.0
    "FontSize": 10.0,
    "LineSpacing": 1.0,
    "ScaleMultiplier": 1.0,
    "TextSpacing": 3.0
}

```

Les entiers :

```
props = {
    "ArrowType": 0,
    "Decimals": 2,
    "LineColor": 255,
    "LineWidth": 2,
    "TextColor": 4278190335
}

```

`TextColor` et `LineColor` correspondent à un entier de 32 bits, dont on peut extraire chacunr des valeurs RGBA. `ArrowType` est un énumérateur.

Booléens :

```
props = {
    "ShowLine": true
    "ShowUnit": false,
}

```

Retrieved from "<http://wiki.freecad.org/index.php?title=Draft_AnnotationStyleEditor/fr&oldid=1495631>"