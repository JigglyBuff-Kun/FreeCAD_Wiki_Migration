---
title: Диалоговое окно Скетчера
---
## Введение

Пока эскиз редактируется, или, другими словами, пока эскиз находится в режиме редактирования, диалог Скетчера отображается на вкладке Задачи [Комбинированной панели](/Combo_view/ru "Combo view/ru").

Чтобы перевести эскиз в режим редактирования, смотрите ![](/images/Sketcher_EditSketch.svg) [Редактировать эскиз](/Sketcher_EditSketch/ru "Sketcher EditSketch/ru"). Чтобы завершить режим редактирования, смотрите ![](/images/Sketcher_LeaveSketch.svg) [Покинуть эскиз](/Sketcher_LeaveSketch/ru "Sketcher LeaveSketch/ru").

Диалоговое окно Скетчера состоит из следующих разделов:

## Параметры инструмента

[представлено в версии 1.0](/Release_notes_1.0/ru "Release notes 1.0/ru")

Некоторые инструменты добавляют раздел параметров в верхней части диалога. Доступные параметры и/или режимы зависят от инструмента.

![](/images/Sketcher_Dialog_Line_parameters.png)
![](/images/Sketcher_Dialog_Line_parameters_RU.png)

Раздел параметров инструмента [Создать Отрезок](/Sketcher_CreateLine/ru "Sketcher CreateLine/ru")

## Сообщения о Состоянии эскиза (Решателя-Solver)

Этот раздел информирует о состоянии эскиза.

Возможные сообщения:

* Эскиз не содержащий элементов
* Чрезмерно ограничен: (#, #, #)
* Неправильные ограничения: (#, #, #)
* Дублирующие ограничения: (#, #, #)
* Частично избыточные ограничения: (#, #, #)
* Решатель не сходится
* Недостаточно ограничен: n DoF(s)
* Полностью ограничен

Если эскиз недостаточно ограничен, указывается количество степеней свободы (или DoFs). Щелчок по подчеркнутому тексту выделит элементы эскиза с недостаточными ограничениями. Смотри ![](/images/Sketcher_SelectElementsWithDoFs.svg) [Выбор недостаточно ограниченных элементов](/Sketcher_SelectElementsWithDoFs/ru "Sketcher SelectElementsWithDoFs/ru").

Если эскиз имеет избыточные ограничения или чрезмерно ограничен, указываются индексы этих ограничений. Щелчок по подчеркнутому тексту выделит их. Смотри ![](/images/Sketcher_SelectRedundantConstraints.svg) [Скетчер Выбор избыточных ограничений](/Sketcher_SelectRedundantConstraints/ru "Sketcher SelectRedundantConstraints/ru") и ![](/images/Sketcher_SelectConflictingConstraints.svg) [Скетчер Выбор конфликтующих ограничений](/Sketcher_SelectConflictingConstraints/ru "Sketcher SelectConflictingConstraints/ru").

Неправильно указанные ограничения можно исправить с помощью инструмента ![](/images/Sketcher_ValidateSketch.svg) [Проверить эскиз](/Sketcher_ValidateSketch/ru "Sketcher ValidateSketch/ru").

Некоторые сообщения отображаются красным цветом не случайно: это предупреждения, которые не следует игнорировать. Они сигнализируют о проблемах, которые необходимо решить, поскольку они мешают работе Решателя. Сообщения не являются взаимоисключающими. Если их несколько, то отображается только первое в списке.

Чтобы изменить цвета, используемые в сообщениях, смотри [Тонкая настройка](/Fine-tuning/ru#Constraint_label_colors "Fine-tuning/ru").

Доступные параметры:

| Option | Description |
| --- | --- |
|  | Эта кнопка открывает меню:  * **Автообновление**: Если флажок установлен, то после каждого действия с эскизом весь документ будет вычисляться заново. Не рекомендуется для слишком больших документов. |

## Расширенное управление решателем

Этот раздел появится только в том случае, если вы отметите опцию **Показывать раздел 'Расширенное управление решателем'** в [Настройках Скетчера](/Sketcher_Preferences/ru "Sketcher Preferences/ru").

Обратите внимание, что большинство опций в этом разделе не имеют практического применения. Однако они могут помочь в тестировании и понимании работы решателей.

Доступные параметры:

| Параметр | Описание |
| --- | --- |
| **Решатель по умолчанию** | Решатель, который используется для построения геометрии. **[Метод Левенберга — Марквардта (англ.)](https://en.wikipedia.org/wiki/Levenberg%E2%80%93Marquardt_algorithm)** и **DogLeg** [Доверительная область (англ.)](https://en.wikipedia.org/wiki/Trust_region) алгоритмы оптимизации. Решатель **BFGS** использует [Алгоритм Бройдена — Флетчера — Гольдфарба — Шанно (англ.)](https://en.wikipedia.org/wiki/Broyden%E2%80%93Fletcher%E2%80%93Goldfarb%E2%80%93Shanno_algorithm). |
| **DogLeg шаг Гаусса** | Эта настройка доступна только для решателя **DogLeg**. Это тип шага, используемый в алгоритме DogLeg. |
| **Максимальное количество итераций** | Если решателю потребуется больше итераций для сходимости к решению, он остановится и выдаст сообщение о неудаче. |
| **Множитель размера эскиза** | Если флажок установлен, максимальное количество итераций будет умножено на количество параметров. Идея заключается в том, что для сходимости больших эскизов потребуется больше итераций. |
| **Конвергенция** | Порог для квадратичной ошибки. Эта ошибка используется для определения того, сходится решение или нет. |
| **Eps/Eps1/Tau** | Эти настройки доступны только для решателя **Левенберга — Марквардта**. Вы должны изменять что-то здесь только в том случае, если вы полностью понимаете, как работает решатель Левенберга-Марквардта. |
| **Tolg/Tolx/Tolf** | Эти настройки доступны только для решателя **DogLeg**. Вы должны менять что-то здесь, только если полностью понимаете, как работает решатель DogLeg. |
| **Алгоритм QR** | При диагностике вычисляется ранг матрицы, что позволяет провести дальнейший анализ системы ограничений на предмет наличия избыточных/конфликтующих ограничений. Ранговое раскрывающее разложение, используемое во FreeCAD, - это QR. Существует два алгоритма: **Eigen Dense QR** - плотная матрица QR с полным поворотом, это старый проверенный алгоритм, который работает очень хорошо, но он довольно медленный по мере роста системы. Алгоритм **Eigen Sparse QR** - это оптимизация для разрежённых матриц (с большим количеством нулей), которая обычно намного быстрее, так как в системах FreeCAD действительно много нулей. |
| **Порог возврата** | При выполнении QR значения ниже порога возврата считаются нулевыми. |
| **Решатель избыточности** | Решатель, который используется во время диагностики для определения того, является ли группа избыточной или конфликтующей. |
| **Максимальное количество итераций избыточности** | То же, что и **Максимальное количество итераций**, но для решения избыточности. |
| **Множитель размера избыточности эскиза** | То же, что и **Множитель размера эскиза**, but for the redundant solving. |
| **Избыточная конвергенция** | То же, что и **Конвергенция**, но для решения избыточности. |
| **R.Eps/R.Eps1/R.Tau** | То же, что и **Eps/Eps1/Tau**, но для решения избыточности. |
| **R.Tolg/R.Tolx/R.Tolf** | То же, что и **Tolg/Tolx/Tolf**, но для решения избыточности. |
| **Режим отладки консоли** | Параметр, определяющий степень подробности вывода в консоль. |
| Решить | Эта кнопка явно запускает решатель. |
| Восстановить\_настройки по умолчанию | Эта кнопка восстанавливает настройки решателя по умолчанию. |

## Ограничения

В этом разделе перечислены ограничения в эскизе. Если снять флажок с ограничения в списке, оно будет скрыто в эскизе. Ограничения можно выбирать как в списке, так и в эскизе.

Ограничения также могут быть скрыты/показаны с помощью ![](/images/Sketcher_SwitchVirtualSpace.svg) [Переключения виртуального пространства](/Sketcher_SwitchVirtualSpace/ru "Sketcher SwitchVirtualSpace/ru").

Доступные параметры:

| Параметр | Описание |
| --- | --- |
| Фильтры | Если установлен флажок Фильтр, то выпадающий список фильтров определяет, какие ограничения будут показаны в списке:  * **Все**: Все ограничения. * **Геометрический**: Геометрические ограничения. * **С величиной**: [Основные](/Sketcher_ToggleDrivingConstraint/ru "Sketcher ToggleDrivingConstraint/ru") размерные ограничения. Не работает должным образом: все размерные ограничения фильтруются. * **С названием**: Ограничения с именами. Не работает. * **Ссылка**: [Вспомогательные](/Sketcher_ToggleDrivingConstraint "Sketcher ToggleDrivingConstraint") размерные ограничения. Не работает должным образом. * **Выбранные ограничения**: Ограничения, выбранные на эскизе. * **Связанные ограничения**: Ограничения, связанные с элементами, выбранными в эскизе. |
|  | Эта кнопка переключает видимость перечисленных ограничений в эскизе. |
|  | Эта кнопка открывает меню:  * **Автоматические ограничения**: Если флажок установлен, к новым элементам автоматически применяются некоторые геометрические ограничения. * **Автоудаление избыточных ограничений**: Если флажок установлен, новые ограничения, которые являются избыточными, автоматически удаляются. * **Показать только отфильтрованные ограничения**: Если флажок установлен, на эскизе будут показаны только указанные ограничения. * **Расширенная информация (в виджете)**: Если флажок установлен, в эту форму добавляется более подробная информация:   `[(GeoID1,PosID1),(GeoID2,PosID2),(GeoID3,PosID3)]`  GeoID - это нулевой индекс для не внешней геометрии. Ось X имеет GeoID -1, ось Y - GeoID -2. GeoID -3, -4 и т. д. используются для внешней геометрии.  PosID может иметь следующие значения:  0 = ребро, 1 = начальная точка, 2 = конечная точка, 3 = средняя точка.  Например, измерение от начала координат до центра окружности, которая является вторым не внешним элементом в эскизе, будет иметь такую расширенную информацию:  `[(-1,1),(1,3)]`   * **Скрыть внутреннее выравнивание (в виджете)**: Если флажок установлен, ограничения, связанные с внутренними выравниваниями, будут скрыты в списке. Инструмент  [Показать/скрыть внутреннюю геометрию](/Sketcher_RestoreInternalAlignmentGeometry/ru "Sketcher RestoreInternalAlignmentGeometry/ru") также может скрыть эти ограничения, но при этом будут скрыты и внутренние выравнивания в эскизе. |
| **Контекстное меню** | Щелчок правой кнопкой мыши на фоне списка или щелчок правой кнопкой мыши на ограничениях, выбранных в списке, вызывает контекстное меню. Меню содержит следующие пункты:  * **Изменить значение**: Изменяет значение размерного ограничения. Работает только для одного ограничения. Вы также можете дважды щёлкнуть по ограничению в списке или дважды щёлкнуть по его значению в [3D виде](/3D_view/ru "3D view/ru"). * **Примечание/ограничение**: Смотри [Переключить ограничения в построительные/основные](/Sketcher_ToggleDrivingConstraint/ru "Sketcher ToggleDrivingConstraint/ru"). * **Деактивировать** или **Активировать**: Смотри [Вкл/выкл ограничение](/Sketcher_ToggleActiveConstraint/ru "Sketcher ToggleActiveConstraint/ru"). * **Показать ограничения**: Аналогично установке флажка ограничения. Но, в отличие от флажка, работает более чем для одного ограничения. * **Скрыть ограничения**: Аналогично снятию флажка ограничения. То же. * **Выбрать элементы**: Смотри [Выделить связанную геометрию](/Sketcher_SelectElementsAssociatedWithConstraints/ru "Sketcher SelectElementsAssociatedWithConstraints/ru"). * **Переименовать**: Переименовать ограничение. * **По центру эскиза**: Центрирует 3D-вид вокруг выбранных ограничений. * **Удалить**: Удаляет выбранные ограничения. Также можно использовать клавишу Del. * **Изменить имена ограничений**: Меняет местами имена выбранных ограничений. Работает только в том случае, если выбраны два ограничения с заданными пользователем именами. |

## Элементы

В этом разделе перечислены элементы эскиза. Если снять флажок с элемента в списке, он будет скрыт в эскизе. Элементы можно выбирать как в списке, так и в эскизе.

Доступные параметры:

| Параметр | Описание |
| --- | --- |
| Фильтры | Если установлен флажок Фильтр, то выпадающий список Фильтра определяет, какие элементы будут отображены в списке:  * **Обычные**: Обычная геометрия: геометрия, которая не попадает в следующие три категории. * **Конструкция**: [Построительная геометрия](/Sketcher_ToggleConstruction/ru "Sketcher ToggleConstruction/ru"). * **Внутренний**: [Внутренняя геометрия](/Sketcher_RestoreInternalAlignmentGeometry/ru "Sketcher RestoreInternalAlignmentGeometry/ru"). * **Внешний**: [Внешняя геометрия](/Sketcher_External/ru "Sketcher External/ru"). * **Все типы**: Все типы геометрии. Конкретные типы можно выбрать в остальной части списка:   + **Точка**   + **Линия**   + **Окружность**   + **Эллипс**   + **Дуга окружности**   + **Дуга эллипса**   + **Дуга гиперболы**   + **Дуга параболы**   + **B-Сплайн** |
|  | Эта кнопка открывает меню:  * **Расширенная информация**: Если флажок установлен, предоставляется расширенная информация об элементе.   Для не внешней геометрии информация в списке меняется с:  `<N>-<TYPE>`  до:  `<TYPE>(Edge<N>#ID<GeoID>#<VLX>)[-Construction]`  <TYPE>: Тип элемента.  <N>: A 1-индекс, указывающий на порядковый номер элементов при их создании.  <GeoID>: Смотри в разделе [Ограничения](#Constraints).  <VLX>: Слой элемента. Смотри ниже. |
|  | Каждый элемент в списке имеет от 1 до 4 кнопок, расположенных в 4 столбцах. С их помощью можно выбрать определенную часть элемента. Показываются только действующие кнопки.  * Кнопка в столбце 1: Выбирает ребро элемента. * Кнопка в столбце 2: Выбирает начальную точку элемента. * Кнопка в столбце 3: Выбирает конечную точку элемента. * Кнопка в столбце 4: Выбирает среднюю () точку элемента.   Щелчок по тексту имеет тот же эффект, что и щелчок по первой доступной кнопке элемента.  *На изображении выделены ребро линии и центр дуги.*  *Линия не имеет кнопки в столбце 4, поскольку у неё нет центра.* |
| **Контекстное меню** | Щелчок правой кнопкой мыши на фоне списка или щелчок правой кнопкой мыши на элементах, выделенных в списке, вызывает контекстное меню. Меню содержит инструменты Геометрических [ограничений](/Sketcher_Workbench/ru#Sketcher_constraints "Sketcher Workbench/ru"), инструменты Размерных ограничений и следующие дополнительные опции:  * **Переключить вспомогательную геометрию**: Смотри [Переключить построительную геометрию](/Sketcher_ToggleConstruction/ru "Sketcher ToggleConstruction/ru"). * **Выбрать ограничения**: Смотри [Выбрать связанные ограничения](/Sketcher_SelectConstraints/ru "Sketcher SelectConstraints/ru"). * **Выбрать исходную точку**: Смотри [Выбрать начало координат](/Sketcher_SelectOrigin/ru "Sketcher SelectOrigin/ru"). * **Выбрать горизонтальную ось**: Смотри [Выбрать горизонтальную ось](/Sketcher_SelectHorizontalAxis/ru "Sketcher SelectHorizontalAxis/ru"). * **Выбрать вертикальную ось**: Смотри [Выбрать вертикальную ось](/Sketcher_SelectVerticalAxis/ru "Sketcher SelectVerticalAxis/ru"). * **Слой**: Доступны 3 слоя:   + **Слой 0**: В расширенной информации обозначается как `VL0`. Это слой по умолчанию. Элементы на этом слое отображаются сплошной линией.   + **Слой 1**: Обозначен как `VL1` в расширенной информации. Элементы на этом слое отображаются с помощью пунктирной линии.   + **Скрыто**: Обозначается как `VL2` в расширенной информации. Элементы на этом слое скрыты в эскизе.   Порядок отрисовки слоёв 0 и 1 таков, что при выборе совпадающих точек в [3D виде](/3D_view/ru "3D view/ru") элементы на слое 0 выбираются в пользу элементов на слое 1.   * **Удалить**: Удаляет выбранные элементы. Также можно использовать клавишу Del. |

Retrieved from "<http://wiki.freecad.org/index.php?title=Sketcher_Dialog/ru&oldid=1567102>"